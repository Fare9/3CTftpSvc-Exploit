
	This is a version of 3CServer/3CDaemon TFTP server code that runs
	as an NT service. It is freeware.

	Questions and comments to dan_gill@3com.com

	INSTALLING:

	Place the 3CTftpSvc.exe file into your WindowsNT directory. For me, this
	is "C:\WINNT\". You MUST place the file here, otherwise 3CTftpSvcCtrl will
	not know where to find it. No other location will do!!!

	The 3CTftpSvcCtrl.exe file is used to configure the service, and can be
	placed anywhere in your path.

	NOTE: If you are already running a version of 3CTftpSvc, and you wish to upgrade
	to a new version, you must deregister the previous version from the system first.
	Otherwise, you will not be able to copy the 3CTftpSvc.exe file. (This system will say
	that the file is in use....) Follow the instructions for de-registering the service found
	later in this file.

	REGISTERING THE SERVICE WITH THE SYSTEM:

	This can be done one of two ways:

	1) Run "3CTftpSvc -i". You should get a message that the service was installed.

	2) Run 3CTftpSvcCtrl.exe. Select the "Install" button.

	In either case, the "Install" step only has to be done once.

	CONFIGURING:

	Run 3CTftpSvcCtrl.exe. Answer the following questions:
	
	Create directory names in incoming file requests:
	
	If a file request comes in, and contains a directory name, but that directory
	does not already exist - it is automatically created.

	Default: True.
	
	Allow overwrite of existing files:
	
	If an incoming write request contains the name of an existing file, it is
	overwritten with the new file. If the existing file, however, has the READONLY
	attribute, it will not be overwritten, even if this option is checked.

	Default: False.

	
	Upload/Download directory:
	
	This is the directory from which the TFTP service will serve files.

	Default: Your system-defined TEMP directory.

	
	Per-packet timeout in seconds:

	Amount of time the TFTP server will wait before retransmitting a packet.

	Default: 5 seconds.


	Maximum retries:

	Maximum number of resends of an unacknowledged packet before the TFTP server
	considers the transfer as failed.

	Default: 10.


	Log transfers and errors to NT EventLog:

	If checked, status about each TFTP transfer will be logged to the NT EventLog.
	Use "Administrative Tools/Event Viewer" to see these messages.

	Default: True.


	Once you have configured the server, click "Save Changes".


	STARTING THE SERVICE:

	The TFTP Service can be started in one of 4 ways:

	1) Run "3CTftpSvc -s". You should get a message that the service was started.

	2) Run 3CTftpSvcCtrl.exe. Select the "Start" button.

	3) At an MSDOS prompt, type: NET START "3Com TFTP Server"

	4) Control Panel/Services/3Com Tftp Server/Start

	STOPPING THE SERVICE:

	The TFTP Service can be stopped in one of 4 ways:

	1) Run "3CTftpSvc -e". You should get a message that the service was stopped.

	2) Run 3CTftpSvcCtrl.exe. Select the "Stop" button.

	3) At an MSDOS prompt, type: NET STOP "3Com TFTP Server"

	4) Control Panel/Services/3Com Tftp Server/Stop


	DEREGISTERING THE SERVICE WITH THE SYSTEM:

	This can be done one of two ways:

	1) Run "3CTftpSvc -u". You should get a message that the service was uninstalled.

	2) Run 3CTftpSvcCtrl.exe. Select the "Uninstall" button.

	In either case, once the service is deregistered, it cannot be stopped or
	started again until you install it again (see: REGISTERING THE SERVICE
	WITH THE SYSTEM).

	DEBUGGING THE SERVICE:

	If there is a problem with using the service, some debugging tools are available.

	1) Make sure that the service is STOPPED in Control Panel/Services

	2) Start the service from the command line with the -d option.
	
		C:\WinNT\3CTftpSvc -d
		
	3) This will bring up a debug window where you can see what is happening.
	
	4) Press Ctrl-C to stop the debugging process.
			

	LICENSE AGREEMENT

	You should carefully read the following terms and the terms set forth in 
	the NOTICES especially those under the headings "No Warranty", 
	"Limitation of Liability" and "US Government Legends", before using 
	the software programs ("Software") and any documentation you have 
	obtained from 3Com. Installation or use of the Software indicates that 
	you accept such terms.  
 
	NO WARRANTY 
	=========== 
	THE SOFTWARE AND DOCUMENTATION ARE PROVIDED ON 
	AN "AS IS" BASIS AND ALL RISK IS WITH YOU. BECAUSE 
	THE SOFTWARE AND DOCUMENTATION ARE PROVIDED TO 
	YOU FREE OF CHARGE, 3COM MAKES NO WARRANTIES, 
	EXPRESS, IMPLIED OR STATUTORY, AS TO ANY MATTER 
	WHATSOEVER. IN PARTICULAR, ANY AND ALL 
	WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
	PARTICULAR PURPOSE OR NON-INFRINGEMENT OF THIRD 
	PARTIES RIGHTS ARE EXPRESSLY EXCLUDED.  FURTHER, 
	3COM MAKES NO REPRESENTATIONS OR WARRANTIES 
	THAT THE SOFTWARE AND DOCUMENTATION PROVIDED 
	YOU ARE FREE OF ERRORS OR VIRUSES OR THAT THE 
	SOFTWARE AND DOCUMENTATION ARE SUITABLE FOR 
	YOUR INTENDED USE. 
 
	 Some states do not allow the exclusion of implied warranties or the 
	limitation of incidental or consequential damages for consumer 
	products, so the above limitations and exclusions may not apply to you. 
	This warranty gives you specific legal rights which may vary from state 
	to state.  
 
	LIMITATION OF LIABILITY 
	======================= 
	IN NO EVENT SHALL 3COM OR ITS SUPPLIERS BE LIABLE TO 
	YOU OR ANY OTHER PARTY FOR ANY INCIDENTAL, SPECIAL 
	OR CONSEQUENTIAL DAMAGES, LOSS OF DATA OR DATA 
	BEING RENDERED INACCURATE, LOSS OF PROFITS OR 
	REVENUE, OR INTERRUPTION OF BUSINESS IN ANY WAY 
	ARISING OUT OF OR RELATED TO THE USE OR INABILITY TO 
	USE THE SOFTWARE AND/OR DOCUMENTATION, 
	REGARDLESS OF THE FORM OF ACTION, WHETHER IN 
	CONTRACT, TORT, (INCLUDING NEGLIGENCE), STRICT 
	PRODUCT LIABILITY OR OTHERWISE, EVEN IF ANY 
	REPRESENTATIVE OF 3COM OR ITS SUPPLIERS HAS BEEN 
	ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.  
 
	Some states do not allow the exclusion of implied warranties or the 
	limitation of incidental or consequential damages for consumer 
	products, so the above limitations and exclusions may not apply to you. 
	This warranty gives you specific legal rights which may vary from state 
	to state.  
	US GOVERNMENT LEGENDS 
	===================== 
	If you are a government agency, then this software and documentation 
	is provided to you subject to the following restricted rights: For units 
	of the Department of Defense: Restricted Rights Legend: Use, 
	duplication or disclosure by the Government is subject to restrictions 
	as set forth in subparagraph (c)(1)(ii) of the Rights in Technical Data 
	and Computer Software Clause at 48 C.F.R. 52.227-7013.  3Com 
	Ireland, c/o 3Com Limited, ISOLAN House, Brindley Way, London 
	Road, Hemel Hempstead, Hertfordshire, HP3 9XJ, England. For 
	civilian agencies: Restricted Rights Legend: Use, reproduction or 
	disclosure is subject to restrictions set forth in subparagraph (a) 
	through (d) of the Commercial Computer Software - Restricted Rights 
	clause at 48 C.F.R. 52.227-19 and the limitations set forth in 3Com's 
	standard commercial agreement for the Software. Unpublished rights 
	reserved under the copyright laws of the United States. 


	ACKNOWLEDGEMENTS:

	Thanks to Joerg Koenig for some code that helped me understand how to write
	an NT service. His CNTService provided the system framework for this code.

	Thanks to Zafir Anjum for www.codeguru.com. Wonderful developers web site!




